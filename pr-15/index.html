<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Opinion - Survey Management Platform</title>
  <meta name="description" content="Opinion - Modern survey management platform for creating, managing and analyzing surveys">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  
  <!-- Load critical CSS directly for Vite compatibility -->
  
  <!-- Material Icons with font-display swap to prevent layout shift -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap" rel="stylesheet">
  
  <style>
    /* Basic reset and foundation - prevent FOUC */
    body, html {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    }
    
    /* Fix H1 styling warning for sectioned h1 elements */
    .brand-title {
      margin: 0 !important;
      font-size: 20px !important;
      font-weight: 600 !important;
      color: #111827 !important;
      line-height: 1.2 !important;
    }
    
    .loader-container {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background: #f8f9fa;
    }
    
    .loader {
      width: 40px;
      height: 40px;
      border: 4px solid #e9ecef;
      border-top: 4px solid #007bff;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 20px;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .loading-text {
      color: #6c757d;
      font-size: 16px;
      font-weight: 400;
    }
  </style>
  <link rel="stylesheet" crossorigin href="/assets/index-xMMy7qC9.css">
</head>
<body>
  <!-- Modern semantic app layout with declarative structure -->
  <div class="app-layout">
    <!-- Sidebar: Static structure, content populated by component -->
    <nav class="app-sidebar" id="app-sidebar" aria-label="Main navigation">
      <div class="sidebar-header">
        <div class="sidebar-brand">
          <h1 class="brand-title">Opinion</h1>
        </div>
      </div>
      <div class="sidebar-navigation">
        <!-- Navigation populated by Sidebar component -->
      </div>
      <div class="sidebar-footer">
        <!-- Footer populated by Sidebar component -->
      </div>
    </nav>
    
    <!-- Content area containing header + scrollable content -->
    <div class="app-content-area">
      <!-- Header: Static structure, content populated by component -->
      <header class="app-header" id="app-header" role="banner">
        <div class="header-container">
          <!-- Header content populated by AppHeader component -->
        </div>
      </header>
      
      <!-- Scrollable container for error messages, main content, and footer -->
      <div class="app-content-scroll" id="app-content-scroll">
        <!-- Error Messages Container: For global error messages and notifications -->
        <div class="app-error-messages" id="app-error-messages" role="alert" aria-live="polite">
          <!-- Error messages will be populated dynamically -->
        </div>
        
        <!-- Main: Dynamic content area -->
        <main class="app-main" id="app-main" role="main" aria-label="Main content">
          <div class="loader-container">
            <div class="loader"></div>
            <p class="loading-text">Getting your Opinion ready...</p>
            <p class="loading-text" style="font-size: 14px; color: #28a745; margin-top: 10px;">
              ðŸš€ Preview Deployment Test - PR Branch
            </p>
          </div>
        </main>
        
        <!-- Footer: Static structure, content populated by component -->
        <footer class="app-footer" id="app-footer" role="contentinfo">
          <div class="footer-container">
            <!-- Footer content populated by AppFooter component -->
          </div>
        </footer>
      </div>
    </div>
  </div>
  
  <!-- Load main script with CSS ready check to prevent FOUC -->
  <script>
    // Simple function to check if critical CSS is loaded
    function waitForCriticalCSS() {
      return new Promise((resolve) => {
        const checkCSS = () => {
          const stylesheets = document.querySelectorAll('link[rel="stylesheet"]');
          let loadedCount = 0;
          
          // Check if all critical stylesheets are loaded
          stylesheets.forEach(sheet => {
            if (sheet.sheet || sheet.disabled) {
              loadedCount++;
            }
          });
          
          // Wait for at least the critical ones to load
          if (loadedCount >= 3 || document.readyState === 'complete') {
            resolve();
          } else {
            // Check again in 10ms
            setTimeout(checkCSS, 10);
          }
        };
        
        checkCSS();
      });
    }
    
    // Initialize app after critical CSS is loaded
    async function initializeApp() {
      await waitForCriticalCSS();
      // Small additional delay to ensure layout stability
      setTimeout(() => {
        import('data:video/mp2t;base64,LyoqCiAqIE1haW4gZW50cnkgcG9pbnQgZm9yIE9waW5pb24gRnJvbnQgVUkKICogVHlwZVNjcmlwdCBtaWdyYXRpb24gZnJvbSBzZXJ2bGV0LWJhc2VkIGFwcGxpY2F0aW9uCiAqLwoKaW1wb3J0ICcuL2Fzc2V0cy9zdHlsZXMvYXBwLWxheW91dC5jc3MnOwppbXBvcnQgJy4vYXNzZXRzL3N0eWxlcy9tYWluLnNjc3MnOwppbXBvcnQgJy4vYXNzZXRzL3N0eWxlcy9kYXNoYm9hcmQuc2Nzcyc7CmltcG9ydCB7IE9waW5pb25BcHAgfSBmcm9tICcuL2FwcCc7CmltcG9ydCB7IExvZ2dlckZhY3RvcnkgfSBmcm9tICcuL2xvZ2dpbmcvTG9nZ2VyRmFjdG9yeSc7CgovLyBJbml0aWFsaXplIGxvZ2dlciBmb3IgbWFpbiBtb2R1bGUKY29uc3QgbG9nZ2VyID0gTG9nZ2VyRmFjdG9yeS5nZXRJbnN0YW5jZSgpLmdldExvZ2dlcignTWFpbicpOwoKLy8gQWRkIHRlbXBvcmFyeSBnbG9iYWwgZXJyb3IgaGFuZGxlcnMgKHdpbGwgYmUgcmVwbGFjZWQgYWZ0ZXIgYXBwIGluaXQpCmNvbnN0IGdsb2JhbEVycm9ySGFuZGxlciA9IChldmVudDogRXJyb3JFdmVudCkgPT4gewogIGxvZ2dlci5lcnJvcignR2xvYmFsIEphdmFTY3JpcHQgZXJyb3IgKGJlZm9yZSBhcHAgaW5pdCknLCBldmVudC5lcnJvcik7Cn07Cgpjb25zdCBnbG9iYWxSZWplY3Rpb25IYW5kbGVyID0gKGV2ZW50OiBQcm9taXNlUmVqZWN0aW9uRXZlbnQpID0+IHsKICBsb2dnZXIuZXJyb3IoJ1VuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbiAoYmVmb3JlIGFwcCBpbml0KScsIGV2ZW50LnJlYXNvbik7Cn07Cgp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBnbG9iYWxFcnJvckhhbmRsZXIpOwp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndW5oYW5kbGVkcmVqZWN0aW9uJywgZ2xvYmFsUmVqZWN0aW9uSGFuZGxlcik7CgovLyBJbml0aWFsaXplIHRoZSBhcHBsaWNhdGlvbiB3aGVuIERPTSBhbmQgcmVzb3VyY2VzIGFyZSByZWFkeQppZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnKSB7CiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIHdhaXRGb3JSZXNvdXJjZXNBbmRJbml0KTsKfSBlbHNlIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnaW50ZXJhY3RpdmUnKSB7CiAgd2FpdEZvclJlc291cmNlc0FuZEluaXQoKTsKfSBlbHNlIHsKICAvLyBEb2N1bWVudCBpcyBhbHJlYWR5IGNvbXBsZXRlCiAgaW5pdEFwcCgpOwp9CgovLyBXYWl0IGZvciBjcml0aWNhbCByZXNvdXJjZXMgdG8gbG9hZCBiZWZvcmUgaW5pdGlhbGl6aW5nCmZ1bmN0aW9uIHdhaXRGb3JSZXNvdXJjZXNBbmRJbml0KCkgewogIC8vIFdhaXQgYSBiaXQgZm9yIHN0eWxlc2hlZXRzIHRvIGxvYWQgYW5kIGFwcGx5CiAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09ICdjb21wbGV0ZScpIHsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4gewogICAgICAvLyBHaXZlIGFuIGFkZGl0aW9uYWwgbW9tZW50IGZvciBsYXlvdXQgdG8gc3RhYmlsaXplCiAgICAgIHNldFRpbWVvdXQoaW5pdEFwcCwgNTApOwogICAgfSk7CiAgfSBlbHNlIHsKICAgIC8vIEFscmVhZHkgbG9hZGVkLCBidXQgZ2l2ZSBhIG1vbWVudCBmb3IgbGF5b3V0IHRvIHN0YWJpbGl6ZQogICAgc2V0VGltZW91dChpbml0QXBwLCAxMCk7CiAgfQp9Cgphc3luYyBmdW5jdGlvbiBpbml0QXBwKCkgewogIGNvbnN0IGFwcCA9IG5ldyBPcGluaW9uQXBwKCk7CiAgYXdhaXQgYXBwLmluaXQoKTsKICAKICAvLyBFeHBvc2UgYXBwIGluc3RhbmNlIGdsb2JhbGx5IGZvciBEZWJ1Z1BhZ2UgYWNjZXNzIHRvIExheW91dAogICh3aW5kb3cgYXMgYW55KS5hcHAgPSBhcHA7CiAgCiAgLy8gVXBkYXRlIGdsb2JhbCBlcnJvciBoYW5kbGVycyB0byB1c2UgT3BpbmlvbkFwcCdzIGVycm9yIGhhbmRsZXIKICBjb25zdCBhcHBFcnJvckhhbmRsZXIgPSBhcHAuZ2V0RXJyb3JIYW5kbGVyKCk7CiAgCiAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZ2xvYmFsRXJyb3JIYW5kbGVyKTsKICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndW5oYW5kbGVkcmVqZWN0aW9uJywgZ2xvYmFsUmVqZWN0aW9uSGFuZGxlcik7CiAgCiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKGV2ZW50KSA9PiB7CiAgICBhcHBFcnJvckhhbmRsZXIoZXZlbnQuZXJyb3IpOwogIH0pOwogIAogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1bmhhbmRsZWRyZWplY3Rpb24nLCAoZXZlbnQpID0+IHsKICAgIGFwcEVycm9ySGFuZGxlcihldmVudC5yZWFzb24pOwogIH0pOwp9CgpleHBvcnQgeyBPcGluaW9uQXBwIH07Cg==');
      }, 50);
    }
    
    // Start initialization when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initializeApp);
    } else {
      initializeApp();
    }
  </script>
</body>
</html>
