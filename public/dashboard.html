<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Dashboard - Opinion</title>
    <meta name="description" content="Opinion - Modern survey management platform">
    <meta name="keywords" content="surveys, opinion, feedback, analytics">
    <meta property="og:title" content="Opinion">
    <meta property="og:description" content="Modern survey management platform - fast, easy and powerful.">
    <meta http-equiv="content-language" content="en">
    <meta name="robots" content="noindex, nofollow">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet">
    <!-- Styles are imported via Vite in main.ts -->
    <!-- JavaScript moved to bottom for proper loading order -->
    <style>
        /* Critical inline styles to ensure the button works */
        .header-sidebar-toggle {
            background: #007bff !important;
            color: white !important;
            border: 2px solid #0056b3 !important;
            cursor: pointer !important;
            padding: 12px !important;
            border-radius: 8px !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            min-width: 48px !important;
            min-height: 48px !important;
            position: relative !important;
            z-index: 9999 !important;
            pointer-events: auto !important;
            font-size: 18px !important;
            font-weight: bold !important;
        }
        
        .header-sidebar-toggle:hover {
            background: #0056b3 !important;
            transform: scale(1.05) !important;
        }
        
        .header-sidebar-toggle:active {
            transform: scale(0.95) !important;
        }
        
        .header-menu-section {
            z-index: 9999 !important;
            position: relative !important;
        }
        
        /* Simple compact toggle button styling */
        .sidebar-compact-toggle {
            background: transparent !important;
            border: none !important;
            opacity: 0.7 !important;
            padding: 8px !important;
            min-width: 32px !important;
            min-height: 32px !important;
            cursor: pointer !important;
            font-size: 16px !important;
            color: #666 !important;
            border-radius: 4px !important;
        }
        
        .sidebar-compact-toggle:hover {
            opacity: 1 !important;
            background: rgba(0, 0, 0, 0.05) !important;
        }
        
        /* Add compact sidebar CSS directly inline to ensure it works */
        .app-sidebar {
            transition: width 0.3s ease !important;
            overflow: hidden !important;
        }
        
        .app-sidebar.sidebar-compact {
            width: 80px !important;
            min-width: 80px !important;
            max-width: 80px !important;
        }
        
        /* Force all child elements to stay within compact width */
        .app-sidebar.sidebar-compact * {
            max-width: 80px !important;
            box-sizing: border-box !important;
        }
        
        /* Hide text elements in compact mode */
        .app-sidebar.sidebar-compact .nav-text {
            display: none !important;
        }
        
        .app-sidebar.sidebar-compact .brand-title {
            display: none !important;
        }
        
        .app-sidebar.sidebar-compact .nav-badge {
            display: none !important;
        }
        
        .app-sidebar.sidebar-compact .copyright-text {
            display: none !important;
        }
        
        /* Constrain sidebar wrapper */
        .app-sidebar.sidebar-compact .sidebar-wrapper {
            width: 80px !important;
            max-width: 80px !important;
            overflow: hidden !important;
        }
        
        /* Center and constrain header */
        .app-sidebar.sidebar-compact .sidebar-header {
            width: 80px !important;
            padding: 16px 0 !important;
            display: flex !important;
            justify-content: center !important;
            align-items: center !important;
        }
        
        .app-sidebar.sidebar-compact .sidebar-brand {
            display: none !important;
        }
        
        .app-sidebar.sidebar-compact .sidebar-controls {
            display: flex !important;
            justify-content: center !important;
            width: 100% !important;
        }
        
        /* Constrain navigation */
        .app-sidebar.sidebar-compact .sidebar-navigation {
            width: 80px !important;
            max-width: 80px !important;
        }
        
        .app-sidebar.sidebar-compact .nav-section {
            width: 80px !important;
            max-width: 80px !important;
        }
        
        .app-sidebar.sidebar-compact .nav-list {
            width: 80px !important;
            max-width: 80px !important;
            display: flex !important;
            flex-direction: column !important;
            align-items: center !important;
        }
        
        .app-sidebar.sidebar-compact .nav-item {
            width: 80px !important;
            max-width: 80px !important;
            display: flex !important;
            justify-content: center !important;
        }
        
        .app-sidebar.sidebar-compact .nav-link {
            width: 60px !important;
            max-width: 60px !important;
            display: flex !important;
            justify-content: center !important;
            align-items: center !important;
            padding: 12px 0 !important;
            margin: 0 auto !important;
        }
        
        .app-sidebar.sidebar-compact .nav-icon {
            margin: 0 !important;
            font-size: 20px !important;
            display: block !important;
        }
        
        /* Constrain footer */
        .app-sidebar.sidebar-compact .sidebar-footer {
            width: 80px !important;
            max-width: 80px !important;
            padding: 8px 0 !important;
            display: flex !important;
            justify-content: center !important;
        }
        
        .app-sidebar.sidebar-compact .footer-content {
            width: 100% !important;
            text-align: center !important;
            display: none !important; /* Hide footer completely in compact mode */
        }
        
        /* Adjust main content margin for compact sidebar */
        .app-sidebar.sidebar-compact ~ .layout-content .main-content {
            margin-left: 80px !important;
        }
        
        .app-sidebar.sidebar-compact ~ .layout-content .main-content::before {
            left: 80px !important;
        }
        
        /* Ensure main content adjusts on desktop when compact */
        @media (min-width: 1025px) {
            .app-sidebar.sidebar-compact ~ .layout-content .main-content {
                margin-left: 80px !important;
            }
            
            .app-sidebar.sidebar-compact ~ .layout-content .main-content::before {
                left: 80px !important;
            }
        }
        
        /* Debug: Make button area very visible */
        .app-header {
            position: relative !important;
        }
        
        .app-header::after {
            pointer-events: none !important;
            z-index: 0 !important;
        }
    </style>
</head>
<body id="top">
    <!-- Main Header positioned after sidebar -->
    <header class="app-header" id="app_header">
        <div class="header-container">
            <!-- Breadcrumb-style Page Title -->
            <nav class="header-breadcrumbs" aria-label="Breadcrumb">
                <ol class="breadcrumb-list">
                    <li class="breadcrumb-item breadcrumb-current" aria-current="page">
                        <span class="breadcrumb-text" id="current_page_title">Dashboard</span>
                    </li>
                </ol>
            </nav>
            
            <!-- User Menu -->
            <div class="user-menu-container">
                <div class="user-menu-trigger" id="user_menu_trigger">
                    <div class="user-avatar">
                        <i class="user-icon">üë§</i>
                    </div>
                    <div class="user-info">
                        <span class="username" id="label_username">Loading...</span>
                        <i class="dropdown-arrow">‚ñº</i>
                    </div>
                </div>
                <div class="user-menu-dropdown" id="user_menu_dropdown" style="display: none;">
                    <div class="user-menu-header">
                        <div class="user-menu-avatar">
                            <i class="user-icon-large">üë§</i>
                        </div>
                        <div class="user-menu-details">
                            <div class="user-menu-name" id="user_menu_name">Loading...</div>
                            <div class="user-menu-email">demo@example.com</div>
                        </div>
                    </div>
                    <div class="user-menu-divider"></div>
                    <ul class="user-menu-items">
                        <li>
                            <a href="/account" class="user-menu-item">
                                <i class="menu-icon">‚öôÔ∏è</i>
                                <span>Account Settings</span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:;" class="user-menu-item" data-action="feedback">
                                <i class="menu-icon">üí¨</i>
                                <span>Send Feedback</span>
                            </a>
                        </li>
                        <li class="user-menu-divider"></li>
                        <li>
                            <a href="/logout" class="user-menu-item user-menu-signout">
                                <i class="menu-icon">üö™</i>
                                <span>Sign Out</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </header>

    <!-- App Layout Container -->
    <div class="app-layout">
        <!-- Sidebar Overlay for mobile -->
        <div class="sidebar-overlay" id="sidebar_overlay"></div>
        
        <!-- Connected Left Sidebar -->
        <aside class="app-sidebar" id="app_sidebar" role="navigation" aria-label="Main navigation">
            <div class="sidebar-wrapper">
                <!-- Sidebar Header -->
                <div class="sidebar-header">
                    <div class="sidebar-brand">
                        <h1 class="brand-title">Opinion</h1>
                    </div>
                    <div class="sidebar-controls">
                        <button class="sidebar-compact-toggle" id="sidebar_compact_toggle" type="button" aria-label="Toggle Compact Mode" title="Toggle Compact Mode">
                            ‚ü∑
                        </button>
                    </div>
                </div>
                
                <!-- Sidebar Navigation ---->
                <nav class="sidebar-navigation" role="navigation">
                    <div class="nav-section">
                        <ul class="nav-list" role="menubar">
                            <!-- Dashboard -->
                            <li class="nav-item" role="none">
                                <a href="/dashboard" class="nav-link nav-link-active" role="menuitem" aria-current="page" data-title="Dashboard">
                                    <span class="nav-icon" aria-hidden="true">üìä</span>
                                    <span class="nav-text">Dashboard</span>
                                </a>
                            </li>
                            
                            <!-- Surveys -->
                            <li class="nav-item" role="none">
                                <a href="/surveys" class="nav-link" role="menuitem" data-title="Surveys">
                                    <span class="nav-icon" aria-hidden="true">üìã</span>
                                    <span class="nav-text">Surveys</span>
                                    <span class="nav-badge" id="sidebar_surveys_count" aria-label="Total surveys">5</span>
                                </a>
                            </li>
                            
                        </ul>
                    </div>
                </nav>
                
                <!-- Sidebar Footer -->
                <div class="sidebar-footer">
                    <div class="footer-content">
                        <small class="copyright-text">¬© 2024 Inqwise Ltd</small>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content Wrapper -->
        <div class="layout-content">
            <!-- Main Content -->
            <div class="main-content" id="main_content">
                <div class="content-container XcO">
                                <div class="main-content-inner">
                                    <!-- Dashboard Header -->
                                    <table class="placeholder-header">
                                        <tbody>
                                            <tr>
                                                <td class="cell-left">
                                                    <h1>Dashboard</h1>
                                                </td>
                                                <td class="cell-right">
                                                    <a href="/surveys/create" title="Create Survey" class="button-green" id="button_create_survey">
                                                        <span><i class="icon-add-white">&nbsp;</i>Create Survey</span>
                                                    </a>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>

                                    <!-- Welcome Message -->
                                    <div id="container_welcome" style="display: none;">
                                        <div style="clear: both;">
                                            <h3 class="ui-header-light">Getting started with Opinion</h3>
                                            <div style="padding-top: 12px;">Begin by clicking "Create Survey", which is first among the options.</div>
                                        </div>
                                        <div style="padding-top: 12px;">
                                            <a href="/surveys/create" title="Create Survey" class="button-green">
                                                <span><i class="icon-add-white">&nbsp;</i>Create Survey</span>
                                            </a>
                                            <span style="margin-left: 6px;">Make it easy, Create your first survey!</span>
                                        </div>
                                    </div>

                                    <!-- Activity Section -->
                                    <div id="container_activity" style="clear: both;">
                                        <div>
                                            <h3 class="ui-header-light">Responses Activity</h3>
                                            <div style="clear: both;padding-top: 10px;">
                                                <table cellpadding="0" cellspacing="0" border="0" width="100%">
                                                    <tbody>
                                                        <tr>
                                                            <td valign="top">
                                                                <div class="params">
                                                                    <div class="param-value" style="width: 200px; margin-right: 6px;">
                                                                        <select id="select_surveys" style="width: 100%; display: none;">
                                                                            <option value="0">All surveys</option>
                                                                        </select>
                                                                        <div class="chosen-container" id="select_surveys_chosen">
                                                                            <a class="chosen-single" tabindex="-1">
                                                                                <span>All surveys</span>
                                                                                <div><b></b></div>
                                                                            </a>
                                                                        </div>
                                                                    </div>
                                                                    <div class="param-value">
                                                                        <div id="button_status" data-value="1">
                                                                            <div class="ui-button-dropdown">
                                                                                <a href="javascript:;" title="Started" class="button-white">
                                                                                    <span><b><i class="legend" style="background-color: #3b5998"></i>Started</b><i class="icon-more">&nbsp;</i></span>
                                                                                </a>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="param-value" style="margin-left: 6px; margin-right: 6px;">vs</div>
                                                                    <div class="param-value">
                                                                        <div id="button_comparison_status" data-value="0">
                                                                            <div class="ui-button-dropdown">
                                                                                <a href="javascript:;" title="None" class="button-white">
                                                                                    <span><b>None</b><i class="icon-more">&nbsp;</i></span>
                                                                                </a>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td valign="top">
                                                                <div style="float: right; position: relative; text-align: left" id="daterange">
                                                                    <div class="datepicker-text" id="datepicker_text">
                                                                        <div class="datepicker-date-range-container">
                                                                            <span id="datepicker_date_range_description">Today: </span>
                                                                            <span id="datepicker_date_range_value"></span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>

                                            <!-- Statistics -->
                                            <ul class="insights-statistics">
                                                <li>
                                                    <div>
                                                        <div>Responses</div>
                                                        <div class="insights-statistics-figure label-started">0</div>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <div>Completed</div>
                                                        <div class="insights-statistics-figure label-completed">0</div>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <div>Completion Rate</div>
                                                        <div class="insights-statistics-figure label-completion-rate">0.00%</div>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <div>Partial</div>
                                                        <div class="insights-statistics-figure label-partial">0</div>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <div>Disqualified</div>
                                                        <div class="insights-statistics-figure label-disqualified">0</div>
                                                    </div>
                                                </li>
                                            </ul>

                                            <!-- Chart -->
                                            <div id="chart" style="min-width: 450px; height: 140px; margin: 0 auto;"></div>
                                        </div>

                                        <!-- Recent Surveys -->
                                        <div style="clear: both; padding-top: 20px;">
                                            <h3 class="ui-header-light">Recent Surveys</h3>
                                            <div style="padding-top: 12px;">
                                                Below is a list of the 5 recently modified surveys ordered by modify date.
                                            </div>
                                            <div style="padding-top: 12px; clear: both; display: block;">
                                                <div id="table_recent_surveys" class="data-table">
                                                    <div class="data-table-body">
                                                        <table id="table_recent_surveys_table_view" cellpadding="0" cellspacing="0" border="0" width="100%">
                                                            <thead>
                                                                <tr>
                                                                    <th class="first-item sortable" style="width: 46px; text-align: right;">#</th>
                                                                    <th style="width: 12px;"></th>
                                                                    <th class="sortable">Name</th>
                                                                    <th style="text-align: right;" class="sortable">Responses</th>
                                                                    <th style="text-align: right;" class="sortable">Completed</th>
                                                                    <th style="text-align: right;" class="sortable">Completion Rate</th>
                                                                    <th style="text-align: right;" class="sortable">Partial</th>
                                                                    <th style="text-align: right;" class="sortable">Disqualified</th>
                                                                    <th style="text-align: right;">Avg. Time Taken</th>
                                                                    <th class="sortable">Last Response Date</th>
                                                                    <th class="last-item sortable">Modify Date</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody id="survey_table_body">
                                                                <!-- Survey rows will be inserted here -->
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div style="clear: both; padding-top: 20px;">
                                    &nbsp;
                                </div>
                </div>
            </div>
            </div>
        </div>
    </div>

    <!-- Footer will be created by AppFooter component -->
    <!-- JavaScript functionality now handled by TypeScript components -->
</body>
</html>
